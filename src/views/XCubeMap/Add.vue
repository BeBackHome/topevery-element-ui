<template>
  <div class="cubeMap-warp">
    <CubeMapDraw v-if="map" class="tools" :map="map" :polygon-points="polygonPoints" />
    <div id="CubeMap" class="CubeMap" />
  </div>
</template>

<script>

const point = [
  [
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.638235,
      'lng': 114.277268
    },
    {
      'lat': 22.634766,
      'lng': 114.279855
    },
    {
      'lat': 22.634499,
      'lng': 114.282443
    },
    {
      'lat': 22.632631,
      'lng': 114.28618
    },
    {
      'lat': 22.628094,
      'lng': 114.288479
    },
    {
      'lat': 22.624091,
      'lng': 114.289054
    },
    {
      'lat': 22.621156,
      'lng': 114.287617
    },
    {
      'lat': 22.618754,
      'lng': 114.289629
    },
    {
      'lat': 22.618754,
      'lng': 114.292791
    },
    {
      'lat': 22.617419,
      'lng': 114.293653
    },
    {
      'lat': 22.615551,
      'lng': 114.295953
    },
    {
      'lat': 22.615284,
      'lng': 114.299403
    },
    {
      'lat': 22.615818,
      'lng': 114.30084
    },
    {
      'lat': 22.613683,
      'lng': 114.299977
    },
    {
      'lat': 22.611547,
      'lng': 114.30084
    },
    {
      'lat': 22.611014,
      'lng': 114.30314
    },
    {
      'lat': 22.611281,
      'lng': 114.309176
    },
    {
      'lat': 22.609412,
      'lng': 114.310613
    },
    {
      'lat': 22.608611,
      'lng': 114.316363
    },
    {
      'lat': 22.611814,
      'lng': 114.3201
    },
    {
      'lat': 22.615551,
      'lng': 114.314638
    },
    {
      'lat': 22.616885,
      'lng': 114.315788
    },
    {
      'lat': 22.617686,
      'lng': 114.320387
    },
    {
      'lat': 22.617686,
      'lng': 114.324699
    },
    {
      'lat': 22.617686,
      'lng': 114.325561
    },
    {
      'lat': 22.621156,
      'lng': 114.329011
    },
    {
      'lat': 22.623024,
      'lng': 114.330448
    },
    {
      'lat': 22.621956,
      'lng': 114.331023
    },
    {
      'lat': 22.619554,
      'lng': 114.330735
    },
    {
      'lat': 22.615818,
      'lng': 114.331023
    },
    {
      'lat': 22.615818,
      'lng': 114.334472
    },
    {
      'lat': 22.616352,
      'lng': 114.33706
    },
    {
      'lat': 22.617419,
      'lng': 114.340222
    },
    {
      'lat': 22.617686,
      'lng': 114.353732
    },
    {
      'lat': 22.619554,
      'lng': 114.361781
    },
    {
      'lat': 22.623024,
      'lng': 114.366955
    },
    {
      'lat': 22.627561,
      'lng': 114.36868
    },
    {
      'lat': 22.637701,
      'lng': 114.37098
    },
    {
      'lat': 22.644639,
      'lng': 114.368392
    },
    {
      'lat': 22.645173,
      'lng': 114.372129
    },
    {
      'lat': 22.647575,
      'lng': 114.378453
    },
    {
      'lat': 22.65718,
      'lng': 114.372992
    },
    {
      'lat': 22.660115,
      'lng': 114.372417
    },
    {
      'lat': 22.66385,
      'lng': 114.370117
    },
    {
      'lat': 22.666785,
      'lng': 114.375004
    },
    {
      'lat': 22.670253,
      'lng': 114.372704
    },
    {
      'lat': 22.673988,
      'lng': 114.365805
    },
    {
      'lat': 22.673722,
      'lng': 114.355169
    },
    {
      'lat': 22.668386,
      'lng': 114.352007
    },
    {
      'lat': 22.668119,
      'lng': 114.345971
    },
    {
      'lat': 22.671321,
      'lng': 114.345396
    },
    {
      'lat': 22.670253,
      'lng': 114.334185
    },
    {
      'lat': 22.666518,
      'lng': 114.33476
    },
    {
      'lat': 22.664918,
      'lng': 114.33361
    },
    {
      'lat': 22.664651,
      'lng': 114.331598
    },
    {
      'lat': 22.665184,
      'lng': 114.325849
    },
    {
      'lat': 22.666785,
      'lng': 114.323549
    },
    {
      'lat': 22.669453,
      'lng': 114.31895
    },
    {
      'lat': 22.667319,
      'lng': 114.314925
    },
    {
      'lat': 22.665184,
      'lng': 114.311476
    },
    {
      'lat': 22.66385,
      'lng': 114.308601
    },
    {
      'lat': 22.665718,
      'lng': 114.306302
    },
    {
      'lat': 22.665985,
      'lng': 114.299977
    },
    {
      'lat': 22.664651,
      'lng': 114.295378
    },
    {
      'lat': 22.662783,
      'lng': 114.296528
    },
    {
      'lat': 22.660382,
      'lng': 114.297965
    },
    {
      'lat': 22.65718,
      'lng': 114.29854
    },
    {
      'lat': 22.655846,
      'lng': 114.298253
    },
    {
      'lat': 22.651844,
      'lng': 114.297965
    },
    {
      'lat': 22.648108,
      'lng': 114.297678
    },
    {
      'lat': 22.652111,
      'lng': 114.295953
    },
    {
      'lat': 22.653978,
      'lng': 114.292791
    },
    {
      'lat': 22.65131,
      'lng': 114.290491
    },
    {
      'lat': 22.649709,
      'lng': 114.290204
    },
    {
      'lat': 22.652911,
      'lng': 114.288767
    },
    {
      'lat': 22.654512,
      'lng': 114.287904
    },
    {
      'lat': 22.656113,
      'lng': 114.283305
    },
    {
      'lat': 22.655312,
      'lng': 114.281868
    },
    {
      'lat': 22.653978,
      'lng': 114.28158
    },
    {
      'lat': 22.654779,
      'lng': 114.278418
    },
    {
      'lat': 22.654779,
      'lng': 114.276981
    },
    {
      'lat': 22.651844,
      'lng': 114.275256
    },
    {
      'lat': 22.65051,
      'lng': 114.274969
    },
    {
      'lat': 22.648375,
      'lng': 114.273244
    },
    {
      'lat': 22.644639,
      'lng': 114.270657
    },
    {
      'lat': 22.642505,
      'lng': 114.270657
    },
    {
      'lat': 22.642505,
      'lng': 114.270657
    },
    {
      'lat': 22.642771,
      'lng': 114.270657
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    },
    {
      'lat': 22.642238,
      'lng': 114.273819
    }
  ]
]

export default {
  data() {
    return {
      map: null,
      polygonPoints: point
    }
  },
  mounted() {
    this.mapInit()
  },
  methods: {
    mapInit() {
      // eslint-disable-next-line no-undef
      this.map = new BMap.Map('CubeMap', {
        enableMapClick: false,
        minZoom: 12
      })
      const center = { lng: 114.12744, lat: 22.64469 }
      // eslint-disable-next-line no-undef
      this.map.centerAndZoom(new BMap.Point(center.lng, center.lat), 16)
      // 开启鼠标滚轮缩放
      this.map.enableScrollWheelZoom(true)
    }
  }
}
</script>

<style lang="scss" scoped>
.cubeMap-warp {
  position: relative;
  height: 84vh;
  width: 100%;
  .CubeMap {
    height: 100%;
    width: 100%;
  }
  .tools {
    position: fixed;
    top: 90px;
    right: 40px;
    z-index: 99999999;
  }
}
</style>
